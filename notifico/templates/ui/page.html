{% macro render_pagination(pg, endpoint) %}
  <div class="pagination">
    <ul>
      {% for page in pg.iter_pages() %}
        {% if page %}
          <li {% if page == pg.page %}class="active"{% endif %}>
            <a href="{{ url_for(endpoint, page=page, **kwargs) }}">{{ page }}</a>
          </li>
        {% else %}
          <li class="disabled"><span>...</span></li>
        {% endif %}
      {% endfor %}
    </ul>
  </div>
{% endmacro %}

{# Helper for generating navbar links #}
{% macro nav(endpoint, text, icon='', title='', active='') %}
  {% set active = active or endpoint %}
  {% set title = title or text %}

  {% if request.endpoint and request.endpoint.startswith(active) %}
  <li class="active">
    <a href="{{ url_for(endpoint) }}" title="{{ title }}">
      {{ text }}
    </a>
  </li>
  {% else %}
  <li>
    <a href="{{ url_for(endpoint) }}" title="{{ title }}">
      {{ text }}
    </a>
  </li>
  {% endif %}
{% endmacro %}